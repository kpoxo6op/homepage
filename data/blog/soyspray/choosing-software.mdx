---
title: Choosing Software
date: '2025-05-16'
tags: ['soyspray']
draft: true
layout: PostBanner
images: ['/static/images/003-soyspray-series/soyspray-choosing-hardware-soy-header.jpg']
summary: 'How I chose the software for my home cluster.'
---

Before I even seriously started thinking how to install Kubernetes at home, I
already knew that I wanted to use Kubespray. This short post is just to explain
how I made that decision and why I think Kubespray is a good start.

If you search internet for how to set up a **full featured** Kubernetes cluster at home, almost immediately you find two products: [Talos Linux](https://www.talos.dev/) and [Kubespray](https://github.com/kubernetes-sigs/kubespray). In most cases, people will pick between these two if they are seriously setting up something.

I really liked Talos Linux. It's clean, elegant, secure, and has a beautifully designed architecture. But I quickly realized it wasn't a good match for my needs. The core philosophy of Talos Linux is that the only thing running on your machines should be Kubernetes. You can't even SSH into it; installing or running other software simply isn't allowed. That's perfectly fine if your goal is solely to operate Kubernetes and Kubernetes-native applications. However, in my situation, I also want to run additional tools like WireGuard, maybe a Tailscale relay node, and other software that doesn't fit neatly into Kubernetes.

So I want to have a normal operating system that can run Kubernetes and also
something else. That's why Talos OS, even if it's beautiful and secure and well
made, is not a good match for me.

Then I looked at Kubespray. Kubespray seemed appealing because it's an official Kubernetes project, fully open source, has over 15,000 stars on GitHub, and has been around for many years. But the main thing that drew me to Kubespray was its simplicity and flexibility. It doesn't require anything special - just any popular Linux distribution with SSH access and a user that can sudo without a password. That's it. Whether you have one machine or a hundred, Kubespray will install Kubernetes for you using Ansible. Ansible itself was another significant advantage, as I knew I could reuse it to manage tasks beyond Kubernetes, such as installing helpful utilities on my nodes.

I initially thought Kubespray would be a great choice, so I began researching thoroughly—reviewing the official documentation, GitHub repository, YouTube videos, and other resources. During this process, I noticed a few shortcomings. The official Kubespray documentation, while extensive, felt messy, outdated, and lacked a clear quick-start guide for beginners. It's probably fine if you're already experienced, but new users might struggle.

Similarly, most YouTube tutorials only demonstrate very basic setups. Typically, they spin up a minimal Kubernetes cluster using virtual machines, run a quick `kubectl get pods`, and call it done. These tutorials rarely cover realistic workloads, day-two operations, or advanced configurations—exactly the things you'd encounter in a real home lab or small-scale production environment.

This gap made me realize there's a real need for comprehensive, practical documentation and examples. Inspired by one standout [video by Farhad](https://www.youtube.com/watch?v=zJoK8MMI23Q), who transparently tackled real-world challenges and troubleshooting, I decided to document my own journey with Kubespray.

My aim is to go beyond basic Kubernetes installations. I'll demonstrate realistic use cases, practical integration with existing Ansible playbooks, efficient upgrades, and day-two operations. By integrating Kubespray as a Git submodule into my configuration management, and adding customized Ansible tasks for additional tooling and maintenance, I want to provide clear, easy-to-follow examples for anyone looking to build a robust, flexible, and maintainable Kubernetes home cluster.